<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div><button id="btn2">클릭</button></div>
    <div id="box2">
        <table border="1">
            <thead>
                <tr>
                    <td>제목</td>
                    <td>저자</td>
                    <td>가격</td>
                </tr>
            </thead>
            <tbody class="book_list"></tbody>
        </table>
    </div>
    <script>
        document.getElementById('btn2').onclick = function(event){
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'books1.xml', true);
            xhr.send();
            xhr.onreadystatechange = function(event) {
                if(xhr.readyState == 4 && xhr.status == 200) {
                    // XML응답은 responseXML 속성으로 받아옴
                    var data = xhr.responseXML;
                    // <books> 태그 가져오기
                    var books = data.getElementsByTagName('books')[0];
                    // <book> 태그 가져오기 (3개)
                    var book = books.getElementsByTagName('book');
                    // book 배열 순회하며 <tr>..</tr> 3개 만들기
                    var bookList = '';
                    for(let i = 0; i < book.length; i++){
                        bookList += '<tr>';
                        bookList += '<td>' + book[i].getElementsByTagName('title')[0].textContent + '</td>';
                        bookList += '<td>' + book[i].getElementsByTagName('author')[0].textContent + '</td>';
                        bookList += '<td>' + book[i].getElementsByTagName('price')[0].textContent + '</td>';
                        bookList += '</tr>';
                    }
                    // <tbody class="book_list"></tbody>에 bookList 추가
                    document.querySelector('#box2 .book_list').innerHTML = bookList;
                }
            }
        }
    </script>





</body>
</html>